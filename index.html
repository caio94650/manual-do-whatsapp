<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manual do WhatsApp</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #e5ddd5;
      overflow: hidden;
    }
    .whatsapp {
      width: 100%;
      max-width: 450px;
      margin: 0 auto;
      height: 100vh;
      display: flex;
      flex-direction: column;
      background-color: #fff;
      border: 1px solid #ccc;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .header {
      background-color: #075e54;
      color: white;
      padding: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: fixed;
      top: 0;
      width: 100%;
      max-width: 450px;
      z-index: 2;
    }
    .header img {
      border-radius: 50%;
      width: 40px;
      height: 40px;
      margin-right: 10px;
    }
    .header span {
      flex-grow: 1;
    }
    .messages {
      flex: 1;
      padding: 60px 10px 80px;
      overflow-y: auto;
      background: url('https://i.ibb.co/Zc7Fj7T/whatsappbg.png');
      background-size: cover;
    }
    .message {
      max-width: 80%;
      padding: 8px 12px;
      margin: 6px;
      border-radius: 8px;
      line-height: 1.4;
      position: relative;
    }
    .bot {
      background-color: #dcf8c6;
      align-self: flex-start;
    }
    .user {
      background-color: #fff;
      align-self: flex-end;
      border: 1px solid #ccc;
    }
    .typing {
      font-style: italic;
      color: gray;
      margin: 0 6px;
    }
    .input-area {
      padding: 10px;
      border-top: 1px solid #ccc;
      display: flex;
      align-items: center;
      gap: 5px;
      position: fixed;
      bottom: 0;
      width: 100%;
      max-width: 450px;
      background: white;
      z-index: 3;
    }
    .input-area input {
      flex-grow: 1;
      padding: 10px;
      font-size: 16px;
      border-radius: 20px;
      border: 1px solid #ccc;
    }
    .input-area button {
      background-color: #075e54;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 20px;
      cursor: pointer;
    }
    .option-buttons {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 8px;
    }
    .option-buttons button {
      padding: 8px 12px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background-color: #25d366;
      color: white;
      font-weight: 600;
    }
    .time {
      font-size: 10px;
      color: gray;
      text-align: right;
      margin-top: 2px;
    }
  </style>
</head>
<body>
<div class="whatsapp">
  <div class="header">
    <img src="https://i.ibb.co/k81B0G7/avatar-fake.png" alt="Avatar">
    <span>Mariana - Manual do WhatsApp</span>
    <div id="top-clock"></div>
  </div>

  <div class="messages" id="chat"></div>

  <div class="input-area" id="input-area">
    <input type="text" id="userInput" placeholder="Digite sua resposta...">
    <button onclick="sendUserMessage()">Enviar</button>
  </div>
</div>

<script>
  const chat = document.getElementById('chat');
  const inputArea = document.getElementById('input-area');
  const userInput = document.getElementById('userInput');
  const topClock = document.getElementById('top-clock');
  let userName = '';

  function updateClock() {
    const now = new Date();
    topClock.innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }
  setInterval(updateClock, 1000);
  updateClock();

  function createMessage(text, sender = 'bot', delay = 1000) {
    const msg = document.createElement('div');
    msg.className = `message ${sender}`;
    msg.innerHTML = text + `<div class="time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>`;
    setTimeout(() => {
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }, delay);
  }

  function showTyping(callback, delay = 1500) {
    const typing = document.createElement('div');
    typing.className = 'typing';
    typing.innerText = 'digitando...';
    chat.appendChild(typing);
    chat.scrollTop = chat.scrollHeight;
    setTimeout(() => {
      chat.removeChild(typing);
      callback();
    }, delay);
  }

  const steps = [
    () => showTyping(() => createMessage('Oi! Tudo bem? Me chamo Mariana, sou da equipe do Manual do WhatsApp.')),
    () => showTyping(() => createMessage('Antes de mais nada, posso saber seu nome?')),
    () => inputArea.style.display = 'flex',
    () => showTyping(() => createMessage(`Prazer em te conhecer, ${userName}! ðŸ’š`)),
    () => showTyping(() => {
      createMessage('Me responde com sinceridade: VocÃª jÃ¡ perdeu um nÃºmero do WhatsApp por banimento?');
      const btns = document.createElement('div');
      btns.className = 'option-buttons';
      ['Sim, jÃ¡ perdi um', 'Ainda nÃ£o, mas tenho medo', 'NÃ£o uso ainda pra vendas'].forEach(opt => {
        const btn = document.createElement('button');
        btn.innerText = opt;
        btn.onclick = () => {
          chat.appendChild(btn.cloneNode(true));
          chat.scrollTop = chat.scrollHeight;
          nextStep();
        };
        btns.appendChild(btn);
      });
      chat.appendChild(btns);
      chat.scrollTop = chat.scrollHeight;
    }),
    () => showTyping(() => createMessage(`Isso acontece mais do que vocÃª imagina, ${userName}...`)),
    () => showTyping(() => createMessage('A maioria das pessoas Ã© banida por nÃ£o saber a forma certa de aquecer e usar o WhatsApp.')),
    () => showTyping(() => createMessage('Mas calma, existe um passo a passo pra evitar isso.')),
    () => showTyping(() => createMessage('E o melhor: vocÃª pode aplicar mesmo sem experiÃªncia.')),
    () => showTyping(() => createMessage('A gente jÃ¡ ajudou mais de 2.400 pessoas a manterem seus nÃºmeros ativos por meses.')),
    () => showTyping(() => createMessage('Com um mÃ©todo simples e seguro.')),
    () => showTyping(() => createMessage('O Manual do WhatsApp mostra tudo isso, com exemplos prÃ¡ticos, ferramentas e dicas secretas.')),
    () => showTyping(() => createMessage('E eu posso te liberar o acesso agora mesmo.')),
    () => showTyping(() => {
      createMessage(`VocÃª quer receber o Manual no seu WhatsApp, ${userName}?`);
      const btn = document.createElement('button');
      btn.innerText = 'âœ… Sim, quero agora!';
      btn.onclick = () => window.location.href = 'https://encurtador.com.br/cEiuS';
      const div = document.createElement('div');
      div.className = 'option-buttons';
      div.appendChild(btn);
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    })
  ];

  let stepIndex = 0;

  function nextStep() {
    if (stepIndex < steps.length) {
      steps[stepIndex++]();
    }
  }

  function sendUserMessage() {
    const text = userInput.value.trim();
    if (!text) return;
    createMessage(text, 'user');
    userInput.value = '';
    inputArea.style.display = 'none';
    if (!userName) userName = text;
    setTimeout(nextStep, 1000);
  }

  nextStep();
</script>
</body>
</html>
